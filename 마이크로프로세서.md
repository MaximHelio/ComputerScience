# 1. 폴링과 인터럽트의 개념 설명

폴링과 인터럽트는 둘 다 어떤 작업을 수행할 때 외부에서 들어오는 이벤트에 의해 어떠한 작업을 수행하는 것이다. CPU에서 데이터를 처리하는 방법에는 여러가지가 있는데, 그 중에 인터럽트와 폴링이 있다. 폴링은 CPU가 직접 입출력 장치에서 데이터를 가져오거나 내보내는 방식으로, 데이터가 그냥 쭉 들어오는 것이고, 프로세서는 데이터를 정해진 순서대로 처리를 해준다. CPU가 명령어 해석과 실행이라는 본래 역할 외에 모든 입출력까지 관여해야하기 때문에 작업효율이 떨어진다. 한편, 비상사태나 급하게 처리해야할 일이 생기면, 신속하게 대응을 해줘야 하는데, 순차적으로 작업을 처리하다 보니 타이밍을 놓치는 경우가 발생하게 된다. 인터럽트 방식은 CPU에 인터럽트 신호를 전송하여 그때그때 사용하는 방식이다. 저장된 데이터가 날아가든지, 처리 타이밍을 놓친다든지 해서 "인터럽트"를 놓치게 되는데, 이것은 프로세서에 중대한 상황과 기타 사용자가 정의하는 상황을 번호로 매겨놓는다. 그리고 그 일이 생기면 현재의 작업을 중단하고 우선처리하게 된다. 

# 2. 인터럽트의 종류 설명

인터럽트의 종류는 외부/내부/소프트웨어 인터럽트로 분류된다. 

- 외부 인터럽트

  - 전원이상 인터럽트(Power fail 인터럽트)

    - 정전, 파워 이상 등

  - 기계 착오 인터럽트(Machine check 인터럽트)

    - CPU의 기능적인 오류

  - 외부 인터럽트(External 인터럽트)

    - 자원이 할당된 시간이 전부 끝난 경우
    - 키보드로 인터럽트 키를 누른 경우(Ctrl+Alt+Del)
    - 외부 장치로부터 인터럽트 요청이 있는 경우

  - 입출력 인터럽트(I/O  인터럽트)

    - 입출력 장치가 데이터 전송을 요구하거나 전송이 끝나, 다음 동작이 수행되어야 할 경우

    - 입출력 데이터에 이상이 있는 경우

      

- 내부 인터럽트

  - 잘못된 명령이나 잘못된 데이터를 사용할 때 발생
  - Trap이라고도 함
  - 프로그램 검사 인터럽트
    - Division by zero
    - Overflow/Underflow
    - 기타 프로그램 Exception

- 소프트웨어 인터럽트

  - 프로그램 처리 중 명령의 요청에 의해 발생
  - 대표적인 형태는 프로그램에서 감시 프로그램(SVC)호출
  - SVC(Super Visor Call)
    - 사용자가 프로그램을 실행시키거나, 감시 프로그램을 호출하는 동작을 수행하는 경우
    - 복잡한 입출력 처리를 하는 경우

# 3. 인터럽트 처리 방법 설명

1. 인터럽트 요청
2. 프로그램 실행 중단
   - 현재 실행 중이던 Micro operation까지 수행
3. 현재의 프로그램 상태 보존
   - PCB(Process Control Block), PC(Program Counter) 등
4. 인터럽트 처리 루틴 수행
   - 인터럽트를 요청한 장치를 식별
5. 인터럽트 서비스 루틴 수행
   - 인터럽트 원인을 파악하고 실질적인 작업을 수행, 처리기 레지스터 상태를 보존
   - 서비스 루틴 수행 중 우선순위가 더 높은 인터럽트가 발생하면 또 재귀적으로 1~5 수행
   - 인터럽트 서비스 루틴을 실행할 때 인터럽트 플래그(IF)를 0으로 하면 인터럽트 발생 방지 가능
6. 상태 복구
   - 인터럽트 발생 시 저장해둔 PC(Program Counter)를 다시 복구 
7. 중단된 프로그램 실행 재개
   - PCB의 값을 이용하여 이전에 수행중이던 프로그램을 재개

# 4. 인터럽트 처리 방법의 차이점 설명

1. 소프트웨어적인 방법
   - 인터럽트 요청 플래그를 차례로 비교하여 우선순위가 가장 높은 인터럽트 자원을 찾고, 이에 해당하는 인터럽트 서비스 루틴을 수행한다.
   - 속도가 빠른 장치에 높은 등급을 부여한다.
   - 우선순위 변경이 쉽다.
   - 많은 인터럽트가 있을 경우 하드웨어 적인 방법에 비해서 우선순위 판단 속도가 느리다.
   - 회로가 간단하고 융통성이 있으며, 별도의 하드웨어가 필요 없다.
   - Polling의 주기가 짧으면 server 성능에 부담이 생기며, 주기가 길어지면 실시간성이 떨어진다
2. 하드웨어적인 방법

- Vectored Interrupt
  - 인터럽트를 요청할 수 있는 장치와 CPU사이에 장치번호를 식별할 수 있는 버스를 직렬/병렬로 연결한다.
  - 인터럽트 벡터는 인터럽트를 발생한 장치가 분기할 곳에 대한 정보이다.
  - 소프트웨어적인 방법에 비해 비경제적이다.
  - 회로가 복잡하고 융통성이 없으나, 별도의 소프트웨어가 필요없이 하드웨어로 처리되므로 속도가 빠르다.

- Daisy Chain
  - 인터럽트가 발생하는 모든 장치를 하나의 직렬 회선으로 연결한다.
  - 우선순위가 높은 장치를 상위에 두고 우선순위 차례대로 배치한다.

- 병렬(Parallel) 우선순위 부여 방식
  - 인터럽트가 발생하는 모든 장치를 하나의 직렬 회선으로 연결한다.
  - 각 장치별 우선순위를 판별하기 위한 Mask register에 bit를 설정한다.
  - Mask register상 우선순위가 높은 서비스 루틴 수행중 우선순위가 낮은 bit들을 비활성화 시킬 수 있다.
  - 반대로 우선순위가 높은 인터럽트는 낮은 인터럽트 수행 중에도 우선 처리된다.
