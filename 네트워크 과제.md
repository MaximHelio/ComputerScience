# 1. 라우터와 스위치의 개념

네트워크 스위치는 OSI 모델의 데이터 링크 계층(계층 2)에서 작동한다. 물리적 포트에 연결된 기기에서 전송된 패킷을 받아 다시 내보내는데 단, 패킷이 도달해야 하는 기기로 이어지는 포트를 통해서만 보낸다. 스위치는 이더넷, 파이버 채널, 비동기 전송 모드(ATM) 및 인피니밴드(InfiniBand) 등을 기반으로 하는데, 현재는 대부분의 스위치가 이더넷을 사용한다.

기기가 스위치에 연결되면 스위치는 해당 이더넷 케이블에 연결된 기기의 네트워크 인터페이스 카드(NIC)에 내장된 미디어 액세스 제어(MAC) 주소를 확인한다. 스위치는 이 MAC 주소를 사용해 패킷이 발송된 기기와 수신된 패킷을 전달할 위치를 식별한다. 따라서 MAC 주소는 기기에 동적으로 할당되고 변경이 가능한 네트워크 계층(계층 3) IP 주소와 달리 물리적 기기를 식별하는 데 쓰인다.

한 기기가 다른 기기로 패킷을 보내면 패킷이 스위치로 들어오고 스위치는 패킷의 헤더를 읽어 어떻게 처리할지 결정한다. 목적지 주소와 대조해 목적지 기기로 이어지는 적절한 포트를 통해 패킷을 내보낸다.

이 과정에서 스위치와 스위치에 연결된 기기에서 동시에 전송되고 수신되는 네트워크 트래픽 간의 충돌 가능성이 있으므로, 대부분의 스위치는 기기를 오가는 패킷이 스위치 연결의 전체 대역폭에 액세스할 수 있도록 하는 전이중(full-duplex) 기능을 제공한다. 두 사람이 무전기가 아닌 휴대전화를 사용해 대화하는 모습을 떠올리면 쉽게 이해할 수 있다.

한편 대부분의 스위치가 계층 2에서 작동하지만 일부 스위치는 계층 3에서도 작동할 수 있다. 이러한 스위치를 계층 3 스위치라고 하며 가상 LAN(VLAN) 구성과 같은 부가 기능을 제공한다.

'네트워크 사이'에 데이터 전송을 수행하는 기기

\- 라우터에 의해 네트워크를 상호 연결할 수 있다.

\- 라우터는 IP 주소를 사용하여 네트워크 간의 데이터 전송을 수행하며, 이를 '라우팅'이라고 한다.

\- 라우팅을 수행하기 위해서는 미리 라우팅 테이블에 네트워크 정보를 등록해두어야 한다.

\- 라우팅 테이블에 등록되어 있지 않은 네트워크가 목적지인 데이터는 라우터에 의해 파기된다.





출처: https://server-engineer.tistory.com/582 [HelloWorld]

# 2. 라우터와 스위치가 네트워크에서 어떠한 역할을 하는지 조사

허브는 여러 대의 컴퓨터를 연결해서 네트워크를 만들어주는 장치로서, `데이터 패킷을 받으면 연결된 모든 장치들에게 모두 보냅니다.` 모든 장치들이 데이터 패킷을 받고 자신에게 온 데이터 패킷인지 확인하고 필요하면 취득합니다. 즉, **단순 분배를 하는 중계 장치**입니다.

허브는 위와 같이 모든 연결된 장치들에게 패킷을 뿌리기 때문에, 자신이 가지고 있는 **데이터 전송 대역을 분리해서 사용해야 됩니다**. 예를 들어, 원래 허브의 데이터 전송속도가 500Mbps라고 하면, 장치 5대가 연결되어 있는 경우 대역폭은 100Mbps로 나눠지게 됩니다.

허브는 IP 할당 기능은 따로 있지 않고, 리피터[1](http://melonicedlatte.com/network/2019/12/21/154500.html#fn:1)와 멀티포트[2](http://melonicedlatte.com/network/2019/12/21/154500.html#fn:2)의 역할을 합니다.



라우터는 **LAN(Local Area Network:근거리 통신망)을 연결해 주는 장치**로써, 데이터를 전송할 때 `최종 목적지에 가기 위하여 거쳐야하는 많은 경로들 중에 적절한 통신 경로를 결정하기 위하여 한 통신망에서 다른 통신망으로 데이터 패킷을 전송하는 장치`입니다.

주로 Web에서 우리가 서비스를 사용하기 위해서는 **구글**, **네이버**과 같은 서비스 제공자의 주소에 접속을 필요로 합니다. 이런 경우에 서버가 내 IP와는 다른 IP를 가지고 있는 경우가 많습니다. 이런 경우 먼저 우리가 흔히 알고 있는 ‘[www.naver.com’와](http://www.naver.xn--com-to0a3042h/) 같은 도메인을 통하여 접속을 하면, 도메인 서버를 통하여 IP를 얻을 수 있습니다. 이 IP를 이용하여 요청을 보내면, 라우터에서는 **‘다음은 여기 라우터로 가야됩니다!’** 라고 판단하고 데이터 패킷을 다른 라우터에게 전송해줍니다. 이런 과정을 여러번 진행하면서 수많은 라우터들을 거치고, 최종 목적지인 **네이버**로 도착하게 되는 것입니다.

위의 에제에서는 Web에서 비유했는데, 전화망에서도 라우터를 사용합니다. 전화망의 전화번호가 Web에서의 IP와 같은 번호라고 생각하면 될 것 같습니다. 많은 장치들을 한 번에 라우터에 연결할 수 없기 때문에, 라우터로 연결

# 3. 라우터와 스위치의 차이점 정리

스위치를 라우터와 혼동하는 경우도 종종 있다. 라우터는 네트워크 트래픽 포워딩과 라우팅 기능을 제공하며 라우터라는 이름도 여기에 유래한다. 그러나 이 작업을 수행하는 목적과 위치가 스위치와 다르다. 라우터는 계층 3(네트워크 계층)에서 작동하며 네트워크를 다른 네트워크로 연결하는 데 사용된다.

스위치와 라우터 간의 차이를 쉽게 이해하려면 LAN과 WAN을 생각하면 된다. 기기는 스위치를 통해 로컬로 연결되고 네트워크는 라우터를 통해 다른 네트워크에 연결된다. 패킷이 인터넷에 이르기까지 일반적으로 거치는 경로(예를 들어 기기 > 허브 > 스위치 > 라우터 > 인터넷)를 생각해 보면 이해에 도움이 될 것이다.

물론 스위칭 기능이 라우터 하드웨어에 내장돼 라우터가 스위치 역할까지 하는 경우도 있다. 대표적인 것이 가정용 무선 라우터다. WAN 포트를 통해 광대역 연결을 라우팅하지만 보통 컴퓨터와 텔레비전, 프린터 또는 게임 콘솔을 위한 이더넷 케이블을 연결하는 데 사용되는 부가적인 이더넷 포트도 제공한다. 다른 노트북이나 스마트폰과 같은 네트워크의 다른 기기는 와이파이 라우터를 통해 연결되지만 여전히 LAN을 통해 스위칭 기능을 제공한다. 따라서 라우터는 사실상 스위치이기도 하다. 또한 라우터에 별도의 스위치를 연결해 부가적인 기기에 인터넷과 LAN 액세스를 동시에 제공할 수도 있다.

# 4. 정리 및 느낀점

